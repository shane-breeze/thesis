\documentclass[11pt,border=0pt]{standalone}

\usepackage{verbatim}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{tikz-3dplot}
\usetikzlibrary{calc,positioning,arrows}
\usepackage{etoolbox}
\usepackage{mathpazo}
\usepackage[wby]{callouts}

\def\filename{diagrams/tikz/cms/images/cms_octant_angle_slice.pdf}
\def\rightpos{6}
\def\scale{0.8}
\def\boxpos{3.8}

\begin{document}
    \begin{tikzpicture}[scale=\scale]
        \definecolor{col_muon}{HTML}{D9D9D9}
        \definecolor{col_yoke}{HTML}{E31A1C}
        \definecolor{col_magn}{HTML}{FFFFFF}
        \definecolor{col_hcal}{HTML}{FDBF6F}
        \definecolor{col_ecal}{HTML}{8DD3C7}
        \definecolor{col_trac}{HTML}{A6CEE3}
        \definecolor{col_beam}{HTML}{CAB2D6}
    
        \node (img) at (0,0) {
            \includegraphics[
                clip,
                trim=15.5cm 1cm 12.5cm 0.5cm,
                width=13cm
            ]{\filename}
        };
        
        %\draw[step=1cm] (-8,-6) grid (8,6);
        %\draw[thin,step=.1cm,black!60] (-8,-6) grid (8,6);
        %\draw[thick,>=stealth',->] (-9,0) -- (9,0) node [right] {$x$};
        %\draw[thick,>=stealth',->] (0,-7) -- (0,7) node [right] {$y$};
        
        \def\x{-0.5}
        \def\y{5}
        \def\lab{Muon chambers}
        \def\col{col_muon}
        \draw (\rightpos,\y) node[right]{\lab} -- (\x,\y);
        \filldraw (\x,\y) circle (1pt);
        \filldraw[\col] ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        \draw ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        
        \def\x{-0.2}
        \def\y{4.3}
        \def\lab{Iron return yoke}
        \def\col{col_yoke}
        \draw (\rightpos,\y) node[right]{\lab} -- (\x,\y);
        \filldraw (\x,\y) circle (1pt);
        \filldraw[\col] ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        \draw ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        
        \def\x{-2}
        \def\y{3.6}
        \def\lab{Outer HCAL}
        \def\col{col_hcal}
        \draw (\rightpos,\y) node[right]{\lab} -- (\x,\y) -- (\x,{\y-0.7});
        \filldraw (\x,{\y-0.7}) circle (1pt);
        \filldraw[\col] ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        \draw ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        
        \def\x{-1.2}
        \def\y{2.9}
        \def\lab{Solenoid}
        \def\col{col_magn}
        \draw (\rightpos,\y) node[right]{\lab} -- (\x,\y) -- (\x,{\y-0.3});
        \filldraw (\x,{\y-0.3}) circle (1pt);
        \filldraw[\col] ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        \draw ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        
        \def\x{-1.4}
        \def\y{2.2}
        \def\lab{HCAL}
        \def\col{col_hcal}
        \draw (\rightpos,\y) node[right]{\lab} -- (\x,\y);
        \filldraw (\x,\y) circle (1pt);
        \filldraw[\col] ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        \draw ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        
        \def\x{-1.4}
        \def\y{1.5}
        \def\lab{ECAL}
        \def\col{col_ecal}
        \draw (\rightpos,\y) node[right]{\lab} -- (\x,\y);
        \filldraw (\x,\y) circle (1pt);
        \filldraw[\col] ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        \draw ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        
        \def\x{-1}
        \def\y{0.8}
        \def\lab{Tracker}
        \def\col{col_trac}
        \draw (\rightpos,\y) node[right]{\lab} -- (\x,\y);
        \filldraw (\x,\y) circle (1pt);
        \filldraw[\col] ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        \draw ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        
        \def\x{-0.2}
        \def\y{0.1}
        \def\lab{Beam pipe}
        \def\col{col_beam}
        \draw (\rightpos,\y) node[right]{\lab} -- (\x,\y);
        \filldraw (\x,\y) circle (1pt);
        \filldraw[\col] ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        \draw ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        
        \def\x{3.5}
        \def\y{-0.6}
        \def\lab{Forward HCAL}
        \def\col{col_hcal}
        \draw (\rightpos,\y) node[right]{\lab} -- (\x,\y);
        \filldraw (\x,\y) circle (1pt);
        \filldraw[\col] ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        \draw ({\rightpos+\boxpos},{\y-0.2}) rectangle ({\rightpos+\boxpos+0.4},{\y+0.2});
        
        \draw[thick,>=stealth',<->] (-1.3, -6) -- node[below,left]{$21.6$ m} (-7, -1.8);
        \draw[thick,>=stealth',<->] (-8, -1.4) -- node[left]{$14.6$ m} (-8, 5.5);
        
    \end{tikzpicture}
\end{document}