\documentclass[11pt,border=0pt]{standalone}

\usepackage{verbatim}
\usepackage{tikz}
\usepackage{tikz-3dplot}
\usetikzlibrary{calc,positioning,shadows.blur,decorations.markings,decorations.pathreplacing,arrows}
\usepackage{etoolbox}
\usepackage{mathpazo}
\usepackage[wby]{callouts}

\def\filenametop{diagrams/tikz/cms/images/cms_front_slice_tracker_v2.pdf}
\def\filenamemid{diagrams/tikz/cms/images/cms_front_slice_tracker_inner_v2.pdf}
\def\filenamebot{diagrams/tikz/cms/images/cms_front_slice_tracker_pixels_v2.pdf}
\def\rightpos{5.2}
\def\scale{1.0}
\def\xrange{5.2}
\def\yrange{7.2}

\begin{document}
    \begin{tikzpicture}[scale=\scale]
        \definecolor{col_bpix}{HTML}{EDF8B1}
        \definecolor{col_fpix}{HTML}{C7E9B4}
        \definecolor{col_tib}{HTML}{7FCDBB}
        \definecolor{col_tid}{HTML}{41B6C4}
        \definecolor{col_tob}{HTML}{1D91C0}
        \definecolor{col_tec}{HTML}{225EA8}
    
        \begin{scope}[shift={(0,5)}]
            \node (top) at (0,0) {
                \includegraphics[
                    clip,
                    width=10cm
                ]{\filenametop}
            };
            \draw[thick] (-1.95,0.95) rectangle (1.95,-0.95);
            
            \def\y{1.5}
            \filldraw[col_tob] ({\rightpos+1},{\y-0.2}) rectangle ({\rightpos+1.4},{\y+0.2});
            \draw ({\rightpos+1},{\y-0.2}) rectangle ({\rightpos+1.4},{\y+0.2});
            \draw[thick] (\rightpos,\y) node[right]{TOB} -- (1.5,\y);
            \filldraw (1.5,\y) circle (1pt);
            
            \def\y{0.75}
            \filldraw[col_tec] ({\rightpos+1},{\y-0.2}) rectangle ({\rightpos+1.4},{\y+0.2});
            \draw ({\rightpos+1},{\y-0.2}) rectangle ({\rightpos+1.4},{\y+0.2});
            \draw[thick] (\rightpos,\y) node[right]{TEC} -- (2.5,\y);
            \filldraw (2.5,\y) circle (1pt);
            
            \draw[thick] (\rightpos,0) node[right]{Inner tracker} -- (1.95,0);
            \draw (-\rightpos,0) node[left]{\phantom{Inner tracker}};
        \end{scope}
        
        \begin{scope}[shift={(0,0)}]
            \node (mid) at (0,0) {
                \includegraphics[
                    clip,
                    width=10cm
                ]{\filenamemid}
            };
            \draw[thick] (-4.55,2.15) rectangle (4.55,-2.15);
            \draw[thick] (-2.25,0.7) rectangle (2.25,-0.7);
            
            \def\y{1.6}
            \filldraw[col_tib] ({\rightpos+1},{\y-0.2}) rectangle ({\rightpos+1.4},{\y+0.2});
            \draw ({\rightpos+1},{\y-0.2}) rectangle ({\rightpos+1.4},{\y+0.2});
            \draw[thick] (\rightpos,\y) node[right]{TIB} -- (2,\y);
            \filldraw (2,\y) circle (1pt);
            
            \def\y{0.85}
            \filldraw[col_tid] ({\rightpos+1},{\y-0.2}) rectangle ({\rightpos+1.4},{\y+0.2});
            \draw ({\rightpos+1},{\y-0.2}) rectangle ({\rightpos+1.4},{\y+0.2});
            \draw[thick] (\rightpos,\y) node[right]{TID} -- (3,\y);
            \filldraw (3,\y) circle (1pt);
            
            \draw[thick] (\rightpos,0) node[right]{Pixel tracker} -- (2.25,0);
            \draw (-\rightpos,0) node[left]{\phantom{Pixel tracker}};
        \end{scope}
        \draw[thick] (-1.95,5.95) -- (-4.55,2.15);
        \draw[thick] (1.95,5.95) -- (4.55,2.15);
        
        \begin{scope}[shift={(0,-4.5)}]
            \node (bot) at (0,0) {
                \includegraphics[
                    clip,
                    trim=0cm 5cm 0cm 5cm 0cm,
                    width=10cm
                ]{\filenamebot}
            };
            \draw[thick] (-4.8,1.5) rectangle (4.8,-1.5);
            
            \def\y{1.15}
            \filldraw[col_bpix] ({\rightpos+1.25},{\y-0.2}) rectangle ({\rightpos+1.65},{\y+0.2});
            \draw ({\rightpos+1.25},{\y-0.2}) rectangle ({\rightpos+1.65},{\y+0.2});
            \draw[thick] (\rightpos,\y) node[right]{BPIX} -- (2,\y) -- (2,{\y-0.25});
            \filldraw (2,{\y-0.25}) circle (1pt);
            
            \def\y{0.4}
            \filldraw[col_fpix] ({\rightpos+1.25},{\y-0.2}) rectangle ({\rightpos+1.65},{\y+0.2});
            \draw ({\rightpos+1.25},{\y-0.2}) rectangle ({\rightpos+1.65},{\y+0.2});
            \draw[thick] (\rightpos,\y) node[right]{FPIX} -- (3.25,\y);
            \filldraw (3.25,\y) circle (1pt);
        \end{scope}
        \draw[thick] (-2.25,0.7) -- (-4.8,-3);
        \draw[thick] (2.25,0.7) -- (4.8,-3);
        
        %\draw[step=1cm] (-\xrange,-\yrange) grid (\xrange,\yrange);
        %\draw[thin,step=.1cm,black!60] (-\xrange,-\yrange) grid (\xrange,\yrange);
        %\draw[thick,>=stealth',->] ({-\xrange-1},0) -- ({\xrange+1},0) node [right] {$x$};
        %\draw[thick,>=stealth',->] (0,{-\yrange-1}) -- (0,{\yrange+1}) node [right] {$y$};
        
        \draw[thick,>=stealth',<->] (-5, 3.05) -- node[left]{$232$ cm} (-5, 6.92);
        \draw[thick,>=stealth',<->] (-5, 2.15) -- node[left]{$110$ cm} (-5, -2.15);
        \draw[thick,>=stealth',<->] (-5, -3.5) -- node[left]{$20.4$ cm} (-5, -5.5);
        
        \draw[thick,>=stealth',<->] (-4.75, 7.1) -- node[above]{$564$ cm} (4.75, 7.1);
        \draw[thick,>=stealth',<->] (-4.45, 2.3) -- node[above]{$248$ cm} (4.45, 2.3);
        \draw[thick,>=stealth',<->] (-4.7, -2.9) -- node[above]{$93$ cm} (4.7, -2.9);
        
    \end{tikzpicture}
\end{document}